import GeneratorWidget from './generator-widget';document.addEventListener('DOMContentLoaded', function() {    var generator = new GeneratorWidget();    const form = document.getElementById('frm-landing-widget');    const popup = document.getElementById('popup');    const popupShadow = document.querySelector('.popup-shadow');    const popupClose = document.getElementById('popup-close');    const contentJSGeneration = document.getElementById('js-code-generate');    const copyContentJSCode = document.getElementById('copy-js-code');    const apiKey = document.getElementById('api-key');    // Фиксируем клики на форме, и открываем popup окно при нажатии на кнопку    form.addEventListener('click', function(event) {        event.preventDefault();        let element = event.target;        if(element.id && element.classList.contains('container-custom-card__btn')) {            const generateWidget = new GeneratorWidget();            generateWidget.setInitialStateForm(window.cityId, window.cityName);                                             contentJSGeneration.value = generateWidget.getCodeForGenerateWidget(generateWidget.mapWidgets[element.id]['id']);            if(!popup.classList.contains('popup--visible')) {                document.body.style.overflow = 'hidden';                popup.classList.add('popup--visible');                popupShadow.classList.add('popup-shadow--visible')                switch(generator.mapWidgets[event.target.id]['schema']) {                    case 'blue':                        if(!popup.classList.contains('popup--blue')) {                            popup.classList.add('popup--blue');                        }                        if(popup.classList.contains('popup--brown')) {                            popup.classList.remove('popup--brown');                        }                        break;                    case 'brown':                        if(!popup.classList.contains('popup--brown')) {                            popup.classList.add('popup--brown');                        }                        if(popup.classList.contains('popup--blue')) {                            popup.classList.remove('popup--blue');                        }                        break;                    case 'none':                        if(popup.classList.contains('popup--brown')) {                            popup.classList.remove('popup--brown');                        }                        if(popup.classList.contains('popup--blue')) {                            popup.classList.remove('popup--blue');                        }                    }                }                    }    });    var eventPopupClose = function(event){      var element = event.target;      if((!element.classList.contains('popupClose') || element === popup)        && !element.classList.contains('container-custom-card__btn')        && !element.classList.contains('popup__title')        && !element.classList.contains('popup__items')        && !element.classList.contains('popup__layout')        && !element.classList.contains('popup__btn')) {        popup.classList.remove('popup--visible');        popupShadow.classList.remove('popup-shadow--visible');        document.body.style.overflow = 'auto';      }    };    eventPopupClose = eventPopupClose.bind(this);    // Закрываем окно при нажатии на крестик    document.addEventListener('click', eventPopupClose);    copyContentJSCode.addEventListener('click', function(event){        event.preventDefault();        //var range = document.createRange();        //range.selectNode(contentJSGeneration);        //window.getSelection().addRange(range);        contentJSGeneration.select();        try{            const txtCopy = document.execCommand('copy');            var msg = txtCopy ? 'successful' : 'unsuccessful';            console.log('Copy email command was ' + msg);        }        catch(e){            console.log(`Ошибка копирования ${e.errLogToConsole}`);        }        // Снятие выделения - ВНИМАНИЕ: вы должны использовать        // removeRange(range) когда это возможно        window.getSelection().removeAllRanges();    });    copyContentJSCode.disabled = !document.queryCommandSupported('copy');});